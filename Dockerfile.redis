# ğŸ—ï¸ Usa la imagen oficial de Redis
FROM redis:latest

# ğŸ› ï¸ Ejecutar como root para configurar permisos
USER root

# ğŸ“‚ Crear el directorio de configuraciÃ³n de Redis y asignar permisos adecuados
RUN mkdir -p /etc/redis && \
    chown -R redis:redis /etc/redis

# ğŸ”§ Copiar el entrypoint
COPY entrypoint_redis.sh /entrypoint_redis.sh
RUN chmod +x /entrypoint_redis.sh

# ğŸ‘¤ Cambiar al usuario 'redis' antes de ejecutar el contenedor
USER redis

# ğŸš€ Definir el entrypoint
ENTRYPOINT ["/entrypoint_redis.sh"]
