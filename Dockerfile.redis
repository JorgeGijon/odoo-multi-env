# ğŸ—ï¸ Basado en la imagen oficial de Redis
FROM redis:latest

# ğŸ› ï¸ Ejecutar como root para configurar el sistema de archivos
USER root

# ğŸ“‚ **Crear directorio de datos y asignar permisos**
RUN mkdir -p /data && chmod -R 777 /data && chown -R redis:redis /data

# ğŸ”§ **Copiar el script de entrada y asignar permisos**
COPY entrypoint_redis.sh /entrypoint_redis.sh
RUN chmod +x /entrypoint_redis.sh

# ğŸ‘¤ **Cambiar al usuario 'redis' para la ejecuciÃ³n**
USER redis

# ğŸ **Definir el entrypoint**
ENTRYPOINT ["/entrypoint_redis.sh"]
