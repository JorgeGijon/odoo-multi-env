# ğŸ—ï¸ Usa una imagen de Debian estable
FROM debian:latest

# ğŸ› ï¸ Configurar entorno sin prompts interactivos
ENV DEBIAN_FRONTEND=noninteractive

# ğŸ”¹ Instalar PostgreSQL Client para realizar backups
RUN apt-get update && apt-get install -y --no-install-recommends \
    postgresql-client curl cron \
    && rm -rf /var/lib/apt/lists/*

# ğŸ”§ Copiar el script de entrada y asignar permisos
COPY entrypoint_pgbackup.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

# ğŸ“‚ Crear directorio para almacenar backups
RUN mkdir -p /backups && chmod -R 777 /backups

# ğŸ Definir el entrypoint
ENTRYPOINT ["/entrypoint.sh"]
