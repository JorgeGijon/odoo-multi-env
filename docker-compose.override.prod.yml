#-----------------------------------------------------------------------------
# ğŸš€ Ejecutar en ProducciÃ³n (Ubuntu):
# docker-compose -f docker-compose.yml -f docker-compose.override.prod.yml up -d
#-----------------------------------------------------------------------------

services:
  # ğŸ—ï¸ Odoo en modo ProducciÃ³n
  odoo:
    env_file:
      - .env.prod
    container_name: ${INSTANCE:-prod}-odoo
    ports:
      - "8090:8069"  # ğŸ“Œ Puerto HTTP de Odoo para ProducciÃ³n
    environment:
      - ODOO_ENV=production  # ğŸ—ï¸ Define el entorno como ProducciÃ³n
    networks:
      - odoo-network

  # ğŸ˜ PostgreSQL en ProducciÃ³n
  postgres:
    env_file:
      - .env.prod
    container_name: ${INSTANCE:-prod}-postgres

  # ğŸ”´ Redis en ProducciÃ³n
  redis:
    env_file:
      - .env.prod
    container_name: ${INSTANCE:-prod}-redis

  # ğŸŒ Nginx en ProducciÃ³n
  nginx:
    container_name: ${INSTANCE:-prod}-nginx
    restart: always
    profiles:
      - "prod"
    volumes:
      - ./config/nginx-prod.conf:/etc/nginx/conf.d/default.conf:ro
    ports:
      - "80:80"
      - "443:443"  # ğŸ”’ Habilita HTTPS en ProducciÃ³n
