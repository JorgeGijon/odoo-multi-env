#-----------------------------------------------------------------------------
#Ejecutar en Desarrollo:
#docker-compose -f docker-compose.yml -f docker-compose.override.dev.yml up -d
#-----------------------------------------------------------------------------
services:
  odoo:
    env_file:
      - .env.dev  # ğŸ”¹ Carga las variables especÃ­ficas del entorno de desarrollo
    ports:
      - "8069:8069"  # ğŸ”¹ Puerto HTTP de Odoo
      - "5678:5678"  # ğŸ› ï¸ Puerto de DebugPy para depuraciÃ³n remota
    environment:
      - ODOO_ENV=development  # ğŸ—ï¸ Modo desarrollo activado
      - DEBUGPY_PORT=5678     # ğŸ” DebugPy se ejecutarÃ¡ en este puerto
    command: 
      - "python3" 
      - "-m" 
      - "debugpy" 
      - "--listen" 
      - "0.0.0.0:5678" 
      - "--wait-for-client" 
      - "/usr/bin/odoo"     # ğŸ Odoo esperarÃ¡ a que un depurador se conecte antes de ejecutar

  postgres:
    env_file:
      - .env.dev  # ğŸ”¹ Carga configuraciÃ³n de BD especÃ­fica para desarrollo
    ports:
      - "5433:5432"  # ğŸ˜ Expone PostgreSQL en un puerto diferente al estÃ¡ndar

  redis:
    env_file:
      - .env.dev  # ğŸ”¹ ConfiguraciÃ³n especÃ­fica para Redis en desarrollo
    ports:
      - "6380:6379"  # ğŸ”´ Expone Redis en otro puerto para pruebas

